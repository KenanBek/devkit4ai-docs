---
title: "Development"
description: "Run Dev Kit for AI services locally and match the production configuration."
icon: "wrench"
---

<Info>
  **Prerequisites**:
  - Node.js 19 or later
  - Python 3.13 with virtualenv support
  - Docker Desktop (for PostgreSQL and Redis test containers)
  - Make (or the ability to run the equivalent npm/pip commands)
</Info>

Dev Kit for AI is a multi-repo platform. The primary services live in `devkit4ai/` (backend API and user app), while the open-source Starter Kit is exported to its own repository. This page explains how to run everything locally so the documentation tracks with reality.

## Local environment overview

- **Hosted-first flow:** The quickest way to build is to pair the Starter Kit with the hosted Cloud API. No local services are required beyond Node.js.
- **Full-stack flow:** Run the backend API, user app, and Starter Kit locally to develop new features before exporting updates.
- **Docs flow:** The Mintlify docs you are reading live in this repository; use them to keep instructions aligned with the code.

## Run the backend API (FastAPI + event store)

<Steps>
  <Step title="Install dependencies">
    ```bash
    cd devkit4ai/backend-api
    make setup
    ```
    `make setup` creates a virtual environment, installs requirements, and copies the default `.env` file.
  </Step>
  <Step title="Start PostgreSQL and Redis">
    ```bash
    make start-services
    ```
    This spins up Docker containers that match the production database and PubSub expectations.
  </Step>
  <Step title="Run the API server">
    ```bash
    make run
    ```
    Uvicorn starts on port 8000 with auto-reload. Use `make run-with-workers/4` when you need a multi-worker process without reloads.
  </Step>
</Steps>

The backend loads configuration from `backend-api/app/system/settings.py`. Update `.env` if you want to mirror Cloud API secrets or toggle storage providers.

## Run the user app in multi-mode

From the `devkit4ai/` root you can boot every mode that the documentation references:

```bash
cd devkit4ai
make run-multi-mode
```

This command starts:

- Operator mode at `http://localhost:3000`
- Console (developer) mode at `http://localhost:3001`
- Two project-mode instances at `http://localhost:3002` and `3003`

Each mode uses the same Next.js codebase with different `DEVKIT4AI_MODE` values. The readiness banner in the UI comes from `lib/deployment-mode.ts`; if it reports errors, double-check your environment variables.

To work on a single mode, run the make target inside `devkit4ai/user-app`:

```bash
cd devkit4ai/user-app
make run-project   # or run-operator / run-console
```

## Iterate on the Starter Kit export

The Starter Kit repository is what customers clone. After making changes under `devkit4ai/user-app`, export or cherry-pick the relevant updates and then:

```bash
cd starter-kit
make install
make dev     # starts Turbopack on port 3004
```

Use the same environment variables as project mode so the Starter Kit points to either the hosted Cloud API or your local backend.

## Testing and quality checks

- **Backend API:** `cd devkit4ai/backend-api && make test` runs unit and integration suites. Use `make test-integration` to execute the Testcontainers workflows.
- **User app:** `cd devkit4ai/user-app && npm run test` for Vitest, `npm run test:e2e` for Playwright.
- **Starter Kit:** The repository mirrors the user app scripts (`npm run test`, `npm run lint`) so instructions stay consistent across distributions.

## Troubleshooting

<AccordionGroup>
  <Accordion title="Port already in use">
    Stop any existing multi-mode processes (`make stop` from the repo root) before re-running the stack, or adjust the ports in the `.env` files if you need concurrent instances.
  </Accordion>
  <Accordion title="Backend cannot connect to PostgreSQL or Redis">
    Ensure Docker Desktop is running and the containers from `make start-services` are healthy. Check logs with `docker compose logs -f` inside `backend-api/` if needed.
  </Accordion>
  <Accordion title="Starter Kit shows configuration errors">
    The banner reflects issues detected by `lib/deployment-mode.ts`. Verify all `DEVKIT4AI_*` variables are set and that `DEVKIT4AI_PROJECT_ID` is a valid UUID.
  </Accordion>
</AccordionGroup>

Keep this page updated whenever the Makefiles or environment flows change so the quickstart and deeper guides stay trustworthy.
